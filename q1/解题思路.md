    # 第一题解题思路

## 问题分析

### 核心挑战
- 总需求：60个资源块（URLLC:20 + eMBB:20 + mMTC:20）
- 可用资源：50个资源块
- 缺口：10个资源块

### 解决策略
采用优先级分配：eMBB > URLLC > mMTC（按QoS贡献排序）

## 算法设计

### 1. 穷举搜索
```python
for urllc_rbs in range(0, 51):
    for embb_rbs in range(0, 51):
        for mmtc_rbs in range(0, 51):
            if urllc_rbs + embb_rbs + mmtc_rbs == 50:
                # 评估QoS
```

### 2. 约束检查
- URLLC：必须是10的倍数，每人≥10RB
- eMBB：必须是5的倍数，每人≥5RB  
- mMTC：优先级分配，部分用户可分配1RB

### 3. QoS计算
- **SINR** = P_rx / P_noise
- **速率** = N_RB × B_RB × log2(1 + SINR)
- **URLLC QoS** = α^L (L≤5ms) 或 -5 (L>5ms)
- **eMBB QoS** = 1 (r≥50Mbps) 或 r/50 (r<50Mbps) 或 -3 (L>100ms)
- **mMTC QoS** = connection_ratio (L≤500ms) 或 -1 (L>500ms)

### 4. 优先级策略
- **切片内部优先级**：按用户编号排序
  - URLLC: U1 > U2
  - eMBB: e1 > e2 > e3 > e4
  - mMTC: m1 > m2 > ... > m10
- **切片间优先级**：按QoS贡献排序
  - eMBB: 3.6000（最高贡献）
  - URLLC: 1.7919
  - mMTC: 0.4200

## 最优结果

| 切片 | 资源块 | 占比 | 约束满足 | QoS贡献 |
|------|--------|------|----------|---------|
| URLLC | 20 | 40% | ✅ 完全满足 | 1.9910 |
| eMBB | 20 | 40% | ✅ 完全满足 | 4.0000 |
| mMTC | 10 | 20% | ⚠️ 部分满足 | 0.5000 |

**总QoS**: 6.4910
**连接率**: 50% (5/10 mMTC用户)
**资源利用率**: 100%

## 关键洞察

1. **资源不足**：需要优先级策略
2. **eMBB贡献最大**：平均QoS贡献3.6000，应优先分配
3. **mMTC灵活性**：允许部分用户满足约束，按用户编号优先级分配
4. **全局最优**：穷举搜索确保找到最佳方案

## 分配策略总结

### 最优分配方案
- **URLLC**: 20 RB (40%) - 满足2个用户，每人10RB
- **eMBB**: 20 RB (40%) - 满足4个用户，每人5RB  
- **mMTC**: 10 RB (20%) - 满足5个用户，按编号优先级分配

### 性能表现
- **URLLC**: 延迟<5ms，速率>100Mbps，QoS接近1.0
- **eMBB**: 延迟<100ms，速率>50Mbps，QoS=1.0
- **mMTC**: 50%用户成功连接，延迟<500ms

### 算法优势
1. **优先级明确**：按QoS贡献和用户编号排序
2. **约束满足**：URLLC和eMBB完全满足约束
3. **资源高效**：100%资源利用率
4. **结果最优**：总QoS达到6.4910 