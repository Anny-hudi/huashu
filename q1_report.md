# 第一题解决方案报告

## 问题描述

现存在一个微基站向其覆盖范围内的用户提供服务，该基站拥有50个资源块用于分配。假设当下用户只到达了一个任务，将所有的资源块分配给三类切片（URLLC、eMBB、mMTC），用于响应用户的下行传输需求，请给出具体的资源块分配方案，使用户服务质量达到最大。

## 系统参数

- **总资源块数**: 50个
- **默认功率**: 30 dBm
- **资源块带宽**: 360 kHz
- **时间片**: 1 ms

### 切片参数

| 切片类型 | 资源块倍数 | SLA延迟 | SLA速率 | 惩罚系数 |
|---------|-----------|---------|---------|----------|
| URLLC   | 10        | 5 ms    | 10 Mbps | 5        |
| eMBB    | 5         | 100 ms  | 50 Mbps | 3        |
| mMTC    | 2         | 500 ms  | 1 Mbps  | 1        |

## 用户数据

根据data1.xlsx文件，用户信道增益数据如下：

- **URLLC用户**: U1 (67.79 dB), U2 (47.86 dB)
- **eMBB用户**: e1 (41.90 dB), e2 (46.81 dB), e3 (69.37 dB), e4 (34.37 dB)
- **mMTC用户**: m1-m10 (35.78-67.51 dB)

## 解决方案

### 1. 信号传输模型

采用香农公式计算传输速率：
```
r = i × b × log₂(1 + γ)
```

其中：
- i: 资源块数量
- b: 单个资源块带宽 (360 kHz)
- γ: 信干噪比 (SINR)

### 2. 服务质量评估

#### URLLC服务质量
```
y^URLLC = {
    α^L,           L ≤ L_SLA
    -M^URLLC,      L > L_SLA
}
```

#### eMBB服务质量
```
y^eMBB = {
    1,              r ≥ r_SLA & L ≤ L_SLA
    r/r_SLA,       r < r_SLA & L ≤ L_SLA
    -M^eMBB,       L > L_SLA
}
```

#### mMTC服务质量
```
y^mMTC = {
    Σc_i'/Σc_i,    L ≤ L_SLA
    -M^mMTC,       L > L_SLA
}
```

### 3. 优化算法

采用穷举搜索方法，考虑资源块倍数约束：
- URLLC: 必须是10的倍数
- eMBB: 必须是5的倍数
- mMTC: 必须是2的倍数

遍历所有可能的分配方案，选择服务质量最大的方案。

## 最优结果

### 资源分配方案

| 切片类型 | 资源块数 | 占比 |
|---------|---------|------|
| URLLC   | 40      | 80%  |
| eMBB    | 5       | 10%  |
| mMTC    | 2       | 4%   |
| 未分配  | 3       | 6%   |

### 服务质量分析

**总服务质量**: 6.9985

#### URLLC切片 (40 RB)
- U1: 速率=780.73 Mbps, 信道增益=67.79 dB
- U2: 速率=685.38 Mbps, 信道增益=47.86 dB
- 服务质量: 高 (满足低延迟要求)

#### eMBB切片 (5 RB)
- e1: 速率=87.51 Mbps, 信道增益=41.90 dB
- e2: 速率=90.44 Mbps, 信道增益=46.81 dB
- e3: 速率=103.93 Mbps, 信道增益=69.37 dB
- e4: 速率=83.00 Mbps, 信道增益=34.37 dB
- 服务质量: 良好 (所有用户速率均超过50 Mbps SLA)

#### mMTC切片 (2 RB)
- 所有10个mMTC用户均成功连接
- 连接率: 100%
- 各用户速率: 34.49-42.08 Mbps (远超过1 Mbps SLA)
- 服务质量: 优秀

## 结果分析

1. **URLLC优先**: 分配了最多的资源块(40个)，确保低延迟高可靠性通信
2. **eMBB适中**: 分配5个资源块，满足高速率需求
3. **mMTC高效**: 仅用2个资源块就实现了100%连接率
4. **资源利用率**: 94%的资源块被有效利用

## 结论

该分配方案在满足各类切片SLA要求的同时，实现了整体服务质量的最大化。URLLC切片获得最多资源以确保低延迟，eMBB切片获得足够资源满足高速率需求，mMTC切片以最少资源实现最佳连接效果。 